webpackJsonp([36],{514:function(t,e,s){var i,l=function(t,e){return function(){return t.apply(e,arguments)}};i=function(t){var e;return e=function(){function e(e,s){var i,o,n;this.selector=e,this.closeAutocomplete=l(this.closeAutocomplete,this),this.openAutocomplete=l(this.openAutocomplete,this),this.selectAutocomplete=l(this.selectAutocomplete,this),this.focusAutocomplete=l(this.focusAutocomplete,this),this.tagsAutocomplete=l(this.tagsAutocomplete,this),this.searchAutocomplete=l(this.searchAutocomplete,this),this.taggingsAutocomplete=l(this.taggingsAutocomplete,this),this.enable=l(this.enable,this),this.disable=l(this.disable,this),t.extend(this,s),this.queryOptions=s.queryOptions||{},this.hide_counts=s.hide_counts,this.onlyMatchedQueries=s.onlyMatchedQueries,this.cache={},i={autoFocus:!0,html:!0,delay:null!=(o=this.delay)?o:"undefined"!=typeof SEARCH_MS_DELAY_AUTOCOMPLETE&&null!==SEARCH_MS_DELAY_AUTOCOMPLETE?SEARCH_MS_DELAY_AUTOCOMPLETE:50,source:s.tags?this.tagsAutocomplete:s.roles?this.taggingsAutocomplete:this.searchAutocomplete,open:this.openAutocomplete,close:this.closeAutocomplete,focus:this.focusAutocomplete,select:this.selectAutocomplete},i=t.extend(i,null!=(n=this.extra_ac_options)?n:{}),t(this.selector).autocomplete(i),t(this.selector).click(function(){var e,s;if(s=t(this).val().trim(),e=t(this).autocomplete("option","minLength"),s.length>=e)return t(this).autocomplete("search",s)}),this.widget=t(this.selector).autocomplete("widget"),t(this.widget).addClass("search_autocomplete_ui al_shadow al_border_radius")}return e.prototype.disable=function(){return t(this.selector).autocomplete("disable")},e.prototype.enable=function(){return t(this.selector).autocomplete("enable")},e.prototype.taggingsAutocomplete=function(e,s){return e.term in this.cache&&s(this.cache[e.term]),this.lastXhr=t.ajax({url:"/autocomplete/taggings",data:t.extend({query:e.term},this.queryOptions),type:"get",dataType:"json",success:function(i){return function(l,o,n){var c,a;if(i.lastXhr===n&&t(i.selector).is(":focus")&&t(i.selector).val()===e.term)return a=function(){var t,e,s;for(s=[],t=0,e=l.length;t<e;t++)c=l[t],s.push(function(t){return function(t){var e;return{value:t,label:'<div class="pic_cell">\n  <div class="pic_holder">\n    <img src="'+(null!=(e=t.pic)?e:"")+'" alt=""/>\n  </div>\n</div>\n<div class="right_cell u-textShadowWhite">\n  <div class="main">\n    '+t.highlight_name+'\n    <div class="item-type">'+t.info+"</div>\n  </div>\n</div>"}}}(this)(c));return s}.call(i),i.onlyMatchedQueries||a.push({value:{name:e.term},label:"<div class='add_new'>Add new <strong>\""+e.term+'"</strong></div>'}),i.cache[e.term]=a,s(a)}}(this)})},e.prototype.searchAutocomplete=function(e,s){return e.term in this.cache&&s(this.cache[e.term]),this.lastXhr=t.ajax({url:this.custom_url||"/autocomplete/search",data:t.extend({query:e.term},this.queryOptions),type:"get",dataType:"json",success:function(i){return function(l,o,n){var c,a;if(a=function(){var t,e,s;for(s=[],t=0,e=l.length;t<e;t++)c=l[t],s.push(function(t){var e,s;return e={value:{name:t.name,id:t.id,model:t.model},label:'<div class="pic_cell"><div class="pic_holder">\n<img src="'+(null!=(s=t.pic)?s:"")+'" alt=""/>\n</div></div>\n<div class="right_cell u-textShadowWhite">\n<div class="main">\n'+t.highlight_name+'\n<div class="item-type">'+t.type+"</div>\n</div></div>"}}(c));return s}(),i.cache[e.term]=a,i.lastXhr===n&&t(i.selector).is(":focus")&&t(i.selector).val()===e.term)return s(a)}}(this)})},e.prototype.tagsAutocomplete=function(e,s){var i;return i=function(t,e){return"undefined"!=typeof t&&null!==t&&""!==t?t:e},e.term in this.cache&&s(this.cache[e.term]),this.lastXhr=t.ajax({url:this.custom_url||"/autocomplete/new_tags",data:t.extend({query:e.term},this.queryOptions),type:"get",dataType:"json",success:function(l){return function(o,n,c){var a,r,u;if(u=function(t,e,s){var i,l,o;return e=replaceAll(e.trim().replace(/\s{2,}/g," "),"-"," "),i=" "+replaceAll(replaceAll(t,"."," "),"-"," "),l=i.toLowerCase().indexOf(" "+e.toLowerCase()),l===-1?t:(o="",o+=t.substr(0,l),o+=s.indexOf("%s")?replaceAll(s,"%s",t.substr(l,e.length)):s,o+=t.substr(l+e.length))},r=function(){var t,s,l;for(l=[],t=0,s=o.length;t<s;t++)a=o[t],l.push(function(t){return function(s){var l,o,n,c;return s.tag.highlight_name=u(s.tag.display_name.toTitleCase(),e.term,"<span class=matched_substring>%s</span>"),t.hide_counts||null==s.counts.User?s.tag.followers="":s.tag.followers=s.counts.User+" follower"+(1===s.counts.User?"":"s"),o="",(null!=(n=s.tag.pic)?n.length:void 0)||(o="u-hidden"),l={value:{name:s.tag.name,id:s.tag.follower_id,model:s.tag.model,item:s.tag},label:'<div class="pic_cell '+o+'"><div class="pic_holder">\n<img src="'+(null!=(c=s.tag.pic)?c:"")+'" alt=""/>\n</div></div>\n<div class="right_cell u-textShadowWhite">\n<div class="main">\n'+s.tag.highlight_name+'\n<div class="item-type">'+i(s.tag.description,i(s.tag.followers,i(s.tag.type,"")))+"</div>\n</div></div>"}}}(this)(a));return l}.call(l),l.addText&&r.push({value:null,label:'<div class="pic_cell"><div class="pic_holder">\n</div></div>\n<div class="right_cell u-textShadowWhite">\n<div class="main">\n'+l.addText+'\n&ldquo;<span class="matched_substring">'+e.term+'</span>&rdquo;\n<div class="item-type"></div>\n</div></div>'}),l.cache[e.term]=r,l.lastXhr===c&&t(l.selector).is(":focus")&&t(l.selector).val()===e.term)return s(r)}}(this)})},e.prototype.focusAutocomplete=function(t,e){return!1},e.prototype.selectAutocomplete=function(e,s){return this.selectCallback?this.additionalCallbackOptions?this.selectCallback(s.item.value,this.additionalCallbackOptions):this.selectCallback(s.item.value):t(this.selector).val(s.item.value.name),!1},e.prototype.openAutocomplete=function(t,e){return this.opened=!0},e.prototype.closeAutocomplete=function(t,e){return this.opened=!1},e}()},void(t.exports=Promise.all([Promise.resolve().then(s.bind(null,1))]).then(function(){return i.apply(void 0,arguments[0])}.bind(this)))}});